<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Time Slot</title>
		<!-- Bootstrap core CSS -->
		<link href="css/bootstrap.css" rel="stylesheet">

		<!-- CSS -->
		<link href="css/style.css" rel="stylesheet">

	<script>
		window.onload = function (){
			document.querySelector(".header h1").innerHTML = localStorage["direction"];
			var d = new Date();
			var hour = d.getHours();
			var currMin = d.getMinutes();
			var min;
			if (currMin >=0 && currMin<15) {
				min = 15;
			} else if (currMin >= 15 && currMin < 30) {
				min = 30;
			} else if (currMin >= 30 && currMin < 45) {
				min = 45;
			} else {
				min = 0;
			}
			var list = document.getElementsByClassName('schedule')[0];
		    var items = list.childNodes;
			for (var i = 0, length = items.length; i < length; i++)
			{
			    if (items[i].nodeType != 1) {
			       continue;
			    }
			    if (min >= 60 || min == 0) {
			    	hour = hour + 1;
			    	min = 0;
			    	items[i].innerHTML = '<li><button type="button" class="btn btn-primary" onclick="getSchedule(this)">'+hour+':00'+'</button></li>';
			    } else {
			    	items[i].innerHTML = '<li><button type="button" class="btn btn-primary" onclick="getSchedule(this)">'+ hour +":" +  min +'</button></li>';
				}

			    min += 15;
			}
		};	

		function getSchedule(selected){ 
			localStorage.setItem("schedule",selected.innerHTML); 
			window.location.href='confirmation.html';
		}
	</script>
</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand logo-nav" href="#"><img src="img/logo.png"></a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<!-- bootstrap calss "navbar-right" will float to the right -->
				<ul class="nav navbar-nav navbar-right">
					<li class="active"><a href="index.html">Home</a></li>
					<li><a href="profile.html">Profile</a></li>
					<li class="dropdown">
						<a href="chatroom.html" class="dropdown-toggle" data-toggle="dropdown">Chatting Room <b class="caret"></b></a>
						<ul class="dropdown-menu" style="padding:0">
							<li style="padding:0"><a href="chatroom.html" style="padding:20px 5px;text-align:center">VOR => UCSD</a></li>
							<li style="padding:0"><a href="chatroom.html">UCSD => VOR</a></li>
						</ul>
					</li>
					<li><a href="login.html">Logout</a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div>
	</nav>
	<div class="container">
		<div class="time">
		  <div class="header">
		  	<h1>VOR to UCSD</h1>
		  </div>
		  <div class="address">
		    <ul class="schedule">
		      <li><button type="button" class="btn btn-info">7:00</button></li>
		      <li><button type="button" class="btn btn-info">7:15</button></li>
		      <li><button type="button" class="btn btn-info">7:30</button></li>
		      <li><button type="button" class="btn btn-info">7:45</button></li>
		      <li><button type="button" class="btn btn-info">8:00</button></li>
		      <li><button type="button" class="btn btn-info">8:15</button></li>
		      <li><button type="button" class="btn btn-info">8:30</button></li>
		    </ul>
				<a href="index.html" class="btn">Back</a>
		  </div>
		</div>
	</div>

	<footer>
		<p>Easy LineUp &copy; 2018, All Rights Reserved</p>
	</footer>

</body>
</html>
